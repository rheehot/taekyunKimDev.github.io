<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>긴급메시지</title>
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="../css/emergency.css">
    <link rel="stylesheet" href="../css/lib/palette-color-picker.css">
</head>
<body>
<div id="wrap">
    <div id="header" class="header">
        <h1 class="tit_header">긴급<br/> 메세지</h1>
        <div class="box_input box_switch">
            <strong class="tit_inp">모니터 활성화</strong>
            <div class="inner_switch">
                <label class="switch no_label">
                    <input type="checkbox" class="switch_input feed_tag_switch" >
                    <span class="switch_trough" data-on="On" data-off="Off"></span>
                    <span class="switch_handle"></span>
                </label>
            </div>
        </div>
    </div>
    <div id="container" class="container">
        <div class="inner_container">
            <div class="area_input">
                <div class="row_input">
                    <div class="box_input box_select">
                        <label for="sel1">
                            <strong class="tit_inp">Program Group</strong>
                            <span class="inner_input inner_select off">
                                <select name="" class="inp_sel" id="sel1">
                                    <option value="1">편성 그룹을 선택해주세요</option>
                                    <option value="2">편성 그룹을 선택해주세요</option>
                                    <option value="3">편성 그룹을 선택해주세요</option>
                                    <option value="4">편성 그룹을 선택해주세요</option>
                                </select>
                                <i class="ico_arrow"></i>
                            </span>
                        </label>
                    </div>
                </div>
                <div class="row_input">
                    <div class="box_input box_select">
                        <label for="sel2">
                            <strong class="tit_inp">Program Group</strong>
                            <span class="inner_input  inner_select off">
                                <select name="" class="inp_sel" id="sel2">
                                    <option value="">편성 그룹을 선택해주세요</option>
                                    <option value="">편성 그룹을 선택해주세요</option>
                                    <option value="">편성 그룹을 선택해주세요</option>
                                    <option value="">편성 그룹을 선택해주세요</option>
                                </select>
                                <i class="ico_arrow"></i>
                        </span>
                        </label>
                    </div>
                </div>
                <div class="row_input">
                    <div class="box_input box_text">
                        <label for="inpText1">
                            <strong class="tit_inp">Message</strong>
                            <span class="inner_input inner_text">
                                <input id="inpText1" type="text" placeholder="메세지를 입력하세요.">
                            </span>
                        </label>
                    </div>
                </div>
                <div class="row_input row_divide">
                    <div class="box_input box_color">
                        <label for="inpColor">
                            <strong class="tit_inp">Color</strong>
                            <span class="inner_input inner_color">
                                <input id="inpColor" type="text" style="display:none;" name="unique-name-1" value="block">
                            </span>
                        </label>
                    </div>
                    <div class="box_input box_check">
                        <label for="chkRepeat">
                            <strong class="tit_inp">Repeat Yn</strong>
                            <span class="inner_input">
                                <input id="chkRepeat" type="checkbox" class="chk_repeat">
                            </span>
                        </label>
                    </div>
                </div>
                <div class="row_input">
                    <div class="box_input box_date">
                        <label for="startDate">
                            <strong class="tit_inp">Start Day</strong>
                            <span class="inner_input inner_date">
                                <input id="startDate" type="date" class="inp_date" value="2017-11-06">
                            </span>
                        </label>
                        <label for="startTime">
                            <strong class="tit_inp">Start Time</strong>
                            <span class="inner_input inner_date">
                                <input id="startTime" type="time" class="inp_time" value="12:00">
                            </span>
                        </label>
                    </div>
                </div>
                <div class="row_input">
                    <div class="box_input box_date">
                        <label for="endDate">
                            <strong class="tit_inp">End Day</strong>
                            <span class="inner_input inner_date">
                                <input id="endDate" type="date" class="inp_date" value="2017-11-06">
                            </span>
                        </label>
                        <label for="endTime">
                            <strong class="tit_inp">End Time</strong>
                            <span class="inner_input inner_date">
                                <input id="endTime" type="time" class="inp_time" value="13:00">
                            </span>
                        </label>
                    </div>
                </div>






            </div>
        </div>

        <div class="area_btn area_btnFull fixed_button">
            <div class="inner_btn">
                <button class="btn_fill">전송</button>
            </div>
        </div>


    </div>
</div>
<script type="text/javascript" src="../js/lib/jquery-3.1.1.min.js"></script>
<script type="text/javascript" src="../js/lib/palette-color-picker.min.js"></script>
<script>
    var DATE = new Date();
    var date = leadingZeros(DATE.getFullYear(), 4) + '-' +leadingZeros(DATE.getMonth() + 1, 2) + '-' +leadingZeros(DATE.getDate(), 2);
    var nextDate = leadingZeros(DATE.getFullYear(), 4) + '-' +leadingZeros(DATE.getMonth() + 1, 2) + '-' +leadingZeros(DATE.getDate()+1, 2);
    var time = leadingZeros(DATE.getHours(), 2) + ':' +leadingZeros(DATE.getMinutes(), 2);
    var nextTime = leadingZeros(DATE.getHours()+1, 2) + ':' +leadingZeros(DATE.getMinutes(), 2);
    function leadingZeros(n, digits) {
        var zero = '';
        n = n.toString();

        if (n.length < digits) {
            for (i = 0; i < digits - n.length; i++) zero += '0';
        }
        return zero + n;
    }
    $(document).ready(function(){
        $('[name="unique-name-1"]').paletteColorPicker({
            colors: [
                {"block": "#333"},
                {"gray": "#666"},
                {"primary_light": "#F8BBD0"},
                {"accent": "#CDDC39"},
                {"primary_text": "#212121"},
                {"secondary_text": "#727272"},
                {"divider": "#B6B6B6"},
                {"secondary_text": "#727272"},
                {"secondary_text": "#727272"},
                {"secondary_text": "#727272"}
            ],
            // Add custom class to the picker
            custom_class: 'double',
            // Force the position of picker's bubble
            position: 'downside', // default -> 'upside'
            // Where is inserted the color picker's button, related to the input
            insert: 'after', // default -> 'before'
            // Don't add clear_btn
            clear_btn: 'last', // null -> without clear button, default -> 'first'
            // Timeout for the picker's fade out in ms
            timeout: 2000, // default -> 2000
            // Forces closin all bubbles that are open before opening the current one
            close_all_but_this: false, // default is false
            // Sets the input's background color to the selected one on click
            // seems that some users find this useful ;)
            set_background: '#727272', // default is false

            // Events
            // Callback on bubbl show
            onbeforeshow_callback: function( what ) {
                console.log(what);
            },

            // Callback on change value
            onchange_callback: function( clicked_color ) {
                console.log(clicked_color);
            }
        });

        $('.swatch').click(function(){
            $('.palette-color-picker-bubble').hide()
        });

        $('#startDate').val(date);
        $('#startTime').val(time);
        $('#endDate').val(nextDate);
        $('#endTime').val(nextTime);

        $('.inp_sel').click(function(){
           if($(this).parent('.inner_select').hasClass('off')){
               $(this).parent('.inner_select').removeClass('off');
               return false;
           }else{
               $(this).parent('.inner_select').addClass('off');
           }
        });
        $('.switch_input').click(function(){
            if($(this))
        })
    });
</script>
</body>
</html>